<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ATJ ANNUAL RECITAL 2025</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#fff;--text:#111827;--muted:#6b7280;--line:#e5e7eb;
  --badge-green-bg:#ecfdf5;--badge-green:#065f46;
  --badge-purple-bg:#f5f3ff;--badge-purple:#5b21b6;
  --badge-blue-bg:#eff6ff;--badge-blue:#1e40af;
  --row-alt:#fafafa;--chip-bg:#f3f4f6;--chip-on:#111827;
  --chip-active-bg:#111827;--chip-active:#fff;--hl:#fff3bf;
  --card-bg:#fff;
  --fs-th:12px;
  --fs-td:11px;
  --fs-label:11px
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.container{max-width:100%;margin:24px auto;padding:0 12px}
h1{font-size:24px;font-weight:800;margin:0 0 6px;line-height:1.1}
.underline-title{font-size:14px;font-weight:700;margin:4px 0 12px;line-height:1.2;display:block;position:relative}
.underline-title::after{content:"";display:block;height:3px;margin-top:6px;background:linear-gradient(90deg,#111827,transparent 80%);border-radius:2px}
.grid{display:grid;gap:16px;margin:14px 0 10px}
.card{border:1px solid var(--line);border-radius:14px;padding:12px;background:var(--card-bg)}
.card h3{margin:0 0 6px;font-size:16px}
.muted{color:var(--muted);font-size:14px;line-height:1.45}.muted div{margin:4px 0}
.controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:center;margin:12px 0}
.search{flex:1 1 320px;padding:10px 12px;border:1px solid var(--line);border-radius:12px;font-size:14px}
.chips{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}
.chip{display:inline-flex;align-items:center;gap:.4rem;border:1px solid var(--line);background:var(--chip-bg);color:var(--chip-on);border-radius:10px;padding:8px 10px;font-size:var(--fs-th);font-weight:600;cursor:pointer}
.chip.active{background:var(--chip-active-bg);color:var(--chip-active)}
.table-wrap{display:none}
table{width:100%;border-collapse:separate;margin-top:12px}
thead th{position:sticky;top:0;background:#f8f8f8;font-weight:600;font-size:var(--fs-th);padding:10px;border-bottom:1px solid var(--line)}
tbody td{padding:10px;border-bottom:1px solid var(--line);font-size:var(--fs-td);line-height:1.35}
tbody tr:nth-child(even){background:var(--row-alt)}
/* ✅ Desktop emphasis */
td:nth-child(2),td:nth-child(4),td:nth-child(5){font-weight:700} /* Date, Location, Reporting Time */
td:nth-child(11){font-style:italic}
/* Badges */
.badge{display:inline-flex;padding:4px 8px;border-radius:999px;font-weight:700;font-size:12px}
.badge.green{background:var(--badge-green-bg);color:var(--badge-green)}
.badge.purple{background:var(--badge-purple-bg);color:var(--badge-purple)}
.badge.blue{background:var(--badge-blue-bg);color:var(--badge-blue)}
/* Mobile cards */
#cards{display:grid;gap:12px;margin-top:12px}
.row-card{border:1px solid var(--line);border-radius:14px;background:var(--card-bg);padding:10px}
.row-head{display:flex;justify-content:space-between;gap:8px;margin-bottom:6px}
.row-title{font-size:var(--fs-td);font-weight:700}
.row-grid{display:grid;gap:8px}
.item{font-size:var(--fs-td)}
.item .label,.remark .label{font-size:var(--fs-label);color:var(--muted);display:block;margin-bottom:2px}
.remark{margin-top:8px;font-size:var(--fs-td)}
/* Desktop adjustments */
@media (min-width:901px){
  .table-wrap{display:block}#cards{display:none}
  :root{--fs-th:13px;--fs-td:12px;--fs-label:12px}
}
/* Mobile tweaks */
@media (max-width:900px){
  h1{font-size:20px}.underline-title{font-size:12px}.card h3{font-size:14px}
  .muted{font-size:13px}
  :root{--fs-td:12px}
}
</style>
</head>
<body>
<div class="container">
  <h1>ATJ ANNUAL RECITAL 2025</h1>
  <div class="underline-title">REHEARSAL &amp; PERFORMANCE SCHEDULE</div>
  <div class="controls"><input id="search" class="search" placeholder="Search all columns…"/></div>
  <div class="table-wrap"><table><thead><tr>
    <th>Event Type</th><th>Event Day &amp; Date</th><th>Student Name</th><th>Event Location</th>
    <th>Reporting Time</th><th>Event Time</th><th>Dismissal Time</th><th>Full Look Guide</th>
    <th>Footwear</th><th>Dance Routine</th><th>Class Name</th><th>Remarks</th>
  </tr></thead><tbody id="tbody"></tbody></table></div>
  <div id="cards"></div>
</div>

<script>
const BASE="https://docs.google.com/spreadsheets/d/1XFHNeTBRvbO9Hu3rt2Sro2vF9sHS_wW6wzH35bJtgu0/export?format=csv&gid=785015495";
const COLS=['Event Type','Event Day & Date','Student Name','Event Location','Reporting Time','Event Time','Dismissal Time','Full Look Guide','Footwear','Dance Routine','Class Name','Remarks'];
const tbody=document.getElementById('tbody'),cards=document.getElementById('cards');
let RAW=[],FILTER='all',QUERY='';

const esc=s=>String(s??'').replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
const oneLine=s=>String(s??'').replace(/\s*[\r\n]+\s*/g,' ');

function hi(t,q){const s=esc(oneLine(t));return s}
function linkify(text){if(!text)return'';return `<a href="${esc(text)}" target="_blank">Open link</a>`}
function badge(type){return `<span class="badge">${esc(type)}</span>`}

function renderTable(rows){
  tbody.innerHTML=rows.map(r=>`<tr>
<td>${badge(r['Event Type'])}</td>
<td><strong>${hi(r['Event Day & Date'],QUERY)}</strong></td>
<td>${hi(r['Student Name'],QUERY)}</td>
<td><strong>${hi(r['Event Location'],QUERY)}</strong></td>
<td><strong>${hi(r['Reporting Time'],QUERY)}</strong></td>
<td>${hi(r['Event Time'],QUERY)}</td>
<td>${hi(r['Dismissal Time'],QUERY)}</td>
<td>${linkify(r['Full Look Guide'])}</td>
<td>${hi(r['Footwear'],QUERY)}</td>
<td>${hi(r['Dance Routine'],QUERY)}</td>
<td><em>${hi(r['Class Name'],QUERY)}</em></td>
<td>${hi(r['Remarks'],QUERY)}</td>
</tr>`).join('');
}

function render(){renderTable(RAW)}
async function load(){const csv=await (await fetch(BASE)).text();RAW=csv.split("\n").slice(1).map(r=>{const c=r.split(",");return COLS.reduce((o,k,i)=>(o[k]=c[i]??'',o),{})});render()}
load();
</script>
</body>
</html>
